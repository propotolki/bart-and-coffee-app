import{r as h,A as xe,j as l,a as U,b as H,d as D,u as be,h as Q,c as R}from"./Typography-Byh9fUcv.js";import{S as ye,u as Se}from"./useExternRef-BpbbNXQC.js";import{Q as te,R as we,u as K,K as G,S as Re,G as Ee,U as Ie,W as ne,X as Pe,Y as Ne,Z as ie,$ as Ae,T as De,V as _e}from"./VisuallyHidden-8Hixhu_K.js";import{R as Te}from"./Removable-BevrVg9y.js";import{F as ae}from"./Group-DEGhva3t.js";import{H as ue}from"./Headline-BNzsiov9.js";import{m as T}from"./Button-MhB0ftXQ.js";function Ye(e,t,n,c){const s=c==="vkcom";if((e===void 0||n===void 0)&&(e===void 0||t===void 0)||n===void 0&&t===void 0)return s?!0:null;const d=e>=te.SMALL_TABLET,u=n||(t!==void 0?t>=we.MEDIUM:!1);return d&&u||s}function de(e){const t=h.useRef(e);return K(()=>{t.current=e}),h.useRef((...n)=>(0,t.current)(...n)).current}var ze=T("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272z" /></symbol>',12,16),Be=T("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_off_20"><path fill="currentColor" fill-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.64 3.64 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.65 3.65 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.15 2.15 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374q.313.585.897.897c.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357q.585-.313.897-.897c.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.15 2.15 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357z" clip-rule="evenodd" /></symbol>',20,20),je=T("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="check_box_on_20"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0z" clip-rule="evenodd" /></symbol>',20,20),Le=T("Icon20CheckCircleOff","check_circle_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 20 20" id="check_circle_off_20"><defs><path id="check_circle_off_20_a" fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m0-1a9 9 0 1 0 0-18 9 9 0 0 0 0 18" clip-rule="evenodd" /></defs><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /></symbol>',20,20),Me=T("Icon20CheckCircleOn","check_circle_on_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="check_circle_on_20"><path fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m5.35-12.72a.75.75 0 1 0-1.062-1.06l-5.955 5.968L5.81 9.66a.75.75 0 1 0-1.062 1.06l3.054 3.06a.75.75 0 0 0 1.062 0z" clip-rule="evenodd" /></symbol>',20,20),Oe=T("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_off_24"><path fill="currentColor" d="M16.872 2c1.783 0 2.43.186 3.082.534s1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.64 3.64 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756S4 5.673 4 6.563v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757s.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756s.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.8 1.8 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267" /></symbol>',24,24),Xe=T("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_box_on_24"><path fill="currentColor" fill-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24),qe=T("Icon24CheckCircleOff","check_circle_off_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_off_24"><path fill="currentColor" d="M12 0c6.629 0 12 5.373 12 12 0 6.629-5.373 12-12 12-6.629 0-12-5.373-12-12C0 5.371 5.373 0 12 0m0 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5" /></symbol>',24,24),He=T("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="check_circle_on_24"><path fill="currentColor" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12m6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" clip-rule="evenodd" /></symbol>',24,24),Fe=T("Icon24ChevronCompactRight","chevron_compact_right_24","0 0 16 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 24" id="chevron_compact_right_24"><path fill="currentColor" d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z" /></symbol>',16,24),Ue=T("Icon24Reorder","reorder_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1" /></g></symbol>',24,24),Ge=T("Icon24ReorderIos","reorder_ios_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="reorder_ios_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path fill="currentColor" fill-rule="nonzero" d="M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5" /></g></symbol>',24,24);const Ve={mq:{className:"vkui-sizeX--compact-mq"},compact:{className:"vkui-sizeX--compact-forced"}},$e={mq:{className:"vkui-sizeX--regular-mq"},regular:{className:"vkui-sizeX--regular-forced"}},We={mq:{className:"vkui-sizeY--compact-mq"},compact:{className:"vkui-sizeY--compact-forced"}},Ke={mq:{className:"vkui-sizeY--regular-mq"},regular:{className:"vkui-sizeY--regular-forced"}},Ze={tabletMinus:{mq:{className:"vkui-viewWidth--tabletMinus-mq"},forced:{className:"vkui-viewWidth--tabletMinus-forced"}},tabletPlus:{mq:{className:"vkui-viewWidth--tabletPlus-mq"},forced:{className:"vkui-viewWidth--tabletPlus-forced"}}},Qe={mobile:{mq:{className:"vkui-deviceType--mobile-mq"},forced:{className:"vkui-deviceType--mobile-forced"}},desktop:{mq:{className:"vkui-deviceType--desktop-mq"},forced:{className:"vkui-deviceType--desktop-forced"}}},fe=(e,t,n)=>({compact:e===void 0?t.mq:e==="compact"?t[e]:!1,regular:e===void 0?n.mq:e==="regular"?n[e]:!1}),Je=(e,t)=>({tabletMinus:e===void 0?t.tabletMinus.mq:e<te.TABLET?t.tabletMinus.forced:!1,tabletPlus:e===void 0?t.tabletPlus.mq:e>=te.TABLET?t.tabletPlus.forced:!1}),et=(e,t,n,c,s)=>{const d=Ye(e,t,n,c);return d===null?{mobile:s.mobile.mq,desktop:s.desktop.mq}:d?{mobile:!1,desktop:s.desktop.forced}:{mobile:s.mobile.forced,desktop:!1}},tt=()=>{const{sizeX:e,sizeY:t,viewWidth:n,viewHeight:c,hasPointer:s}=h.useContext(xe),d=G();return h.useMemo(()=>{const u=fe(e,Ve,$e),f=fe(t,We,Ke),m=Je(n,Ze),b=et(n,c,s,d,Qe);return{sizeX:u,sizeY:f,viewWidth:m,deviceType:b}},[e,t,n,c,s,d])},Z=({IconCompact:e,IconRegular:t})=>{const{sizeY:n}=tt();return l.jsxs(h.Fragment,{children:[n.compact&&l.jsx(e,{className:n.compact.className}),n.regular&&l.jsx(t,{className:n.regular.className})]})},me=e=>"clientX"in e?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,he=e=>"clientY"in e?e.clientY:e.changedTouches&&e.changedTouches[0].clientY,nt=()=>Re&&"ontouchstart"in window,rt=e=>{var{onStart:t,onStartX:n,onStartY:c,onMove:s,onMoveX:d,onMoveY:u,onEnter:f,onLeave:m,onEnd:b,onEndX:P,onEndY:g,onClickCapture:x,usePointerHover:v,slideThreshold:k=5,useCapture:C=!1,Component:_="div",getRootRef:E,noSlideClick:N=!1,stopPropagation:L=!1}=e,O=U(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onEnter","onLeave","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"]);const[Y]=h.useState(nt),z=h.useRef(null),A=h.useRef(!1),I=h.useRef(null),X=()=>{z.current=null,I.current&&(I.current(),I.current=null)};h.useEffect(()=>X,[]);const w=de(o=>{const r=z.current;r&&(r.isPressed&&J(o,r,[b,P,g],L),Y?(r.isSlide&&(A.current=!1),m&&m(o)):A.current=!!r.isSlide,X())}),B=de(o=>{const r=z.current;if(!r)return;const y=me(o),p=he(o),S=y-r.startX,re=p-r.startY,V=Math.abs(S),$=Math.abs(re);if("touches"in o&&o.touches.length>1)return w(o);if(!r.isX&&!r.isY){const oe=V>=k&&V>$,se=$>=k&&$>V,le=oe&&(!!d||!!s),ce=se&&(!!u||!!s);r.isY=se,r.isX=oe,r.isSlideX=le,r.isSlideY=ce,r.isSlide=le||ce}r.isSlide&&(r.clientX=y,r.clientY=p,r.shiftX=S,r.shiftY=re,r.shiftXAbs=V,r.shiftYAbs=$,J(o,r,[s,d,u],L))}),j=o=>{const r=o.nativeEvent;z.current=ot(me(r),he(r)),J(o,z.current,[t,n,c],L,!1);const p={capture:C,passive:!1};if(Y){if(Ee(o.target)){const S=o.target;S.addEventListener("touchmove",B,p),S.addEventListener("touchend",w,p),S.addEventListener("touchcancel",w,p),I.current=()=>{S.removeEventListener("touchmove",B,p),S.removeEventListener("touchend",w,p),S.removeEventListener("touchcancel",w,p)}}}else{const S=Ie(o.currentTarget).document;S.addEventListener("mousemove",B,p),S.addEventListener("mouseup",w,p),S.addEventListener("mouseleave",w,p),I.current=()=>{S.removeEventListener("mousemove",B,p),S.removeEventListener("mouseup",w,p),S.removeEventListener("mouseleave",w,p)}}},q=f?o=>f(o.nativeEvent):void 0,M=m?o=>m(o.nativeEvent):void 0,i=o=>{const r=o.target;(r.tagName==="A"||r.tagName==="IMG")&&o.preventDefault()},a=o=>{if(!A.current)return x&&x(o);N?(o.stopPropagation(),o.preventDefault()):x&&x(o),A.current=!1};return l.jsx(_,H(D({},O),{ref:E,onDragStart:i,onClickCapture:a,onPointerEnter:v?q:void 0,onMouseEnter:v?void 0:q,onPointerLeave:v?M:void 0,onMouseLeave:v?void 0:M,onTouchStartCapture:Y&&C?j:void 0,onTouchStart:Y&&!C?j:void 0,onMouseDownCapture:!Y&&C?j:void 0,onMouseDown:!Y&&!C?j:void 0}))};function ot(e,t){return{startX:e,startY:t,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,clientX:0,clientY:0,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}}function J(e,t,[n,c,s],d,u=!0){d&&e.stopPropagation();const f=H(D({},t),{originalEvent:e,duration:Date.now()-t.startT.getTime()});n&&n(f),c&&(u?t.isSlideX&&c(f):c(f)),s&&(u?t.isSlideY&&s(f):s(f))}const st=300,W=-1,lt="data-draggable-placeholder",ct=e=>{let t=[],n=null;const c=(...s)=>{t=s,!n&&(n=requestAnimationFrame(()=>{n=null,e(...t)}))};return c.cancel=()=>{n&&(cancelAnimationFrame(n),n=null)},c},pe=10,F=50,it=(e,t)=>{const n=Math.floor(ne(t).scrollTop),{relative:c,edges:s}=Pe(t),d=c.height,f=Ne(t)-d,m=n>0,b=n<f,[P,g]=s.y,x=e-P,v=g-e,k=x<=F,C=v<=F,_={shouldScrolling:m&&k||b&&C,y:0};return k?_.y=-1*((F-x)/F)*pe:C&&(_.y=(F-v)/F*pe),_},at=e=>{let t=!1;const n=ct(c);function c(u){const{shouldScrolling:f,y:m}=u();f?(t=!0,e.scrollBy(0,m),n(u)):(t=!1,n.cancel())}return{tryAutoScroll:u=>{n(u)},stop:()=>{t=!1,n.cancel()},get isRunning(){return t}}},ut=(e,t)=>{const n=t.height/2;return{isUnderEl:e<=t.bottom-n,isOverEl:e>=t.top+n}},ve=(e,t)=>{requestAnimationFrame(()=>{e.style.transform=`translateY(${t}px)`})},ge=([{el:e,draggingElRect:{height:t}},n],c=0)=>{requestAnimationFrame(()=>{n==="up"?(e.style.setProperty("transition","transform 0.3s ease-in 0s"),e.style.removeProperty("transform")):(e.style.setProperty("transition","transform 0.3s ease-out 0s"),e.style.setProperty("transform",`translateY(${t+c}px)`))})},dt=({el:e,draggingElRect:t})=>{const{top:n,left:c,width:s,height:d}=t;requestAnimationFrame(()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("position","fixed"),e.style.setProperty("top",`${n}px`),e.style.setProperty("left",`${c}px`),e.style.setProperty("width",`${s}px`),e.style.setProperty("height",`${d}px`),e.style.setProperty("z-index","var(--vkui_internal--z_index_cell_dragging)"),e.style.setProperty("box-sizing","border-box"),e.style.setProperty("transform","translateY(0)")})},ft=({el:e})=>{requestAnimationFrame(()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("left"),e.style.removeProperty("width"),e.style.removeProperty("height"),e.style.removeProperty("z-index"),e.style.removeProperty("box-sizing"),e.style.removeProperty("transform")})},mt=({el:e,draggingElRect:t})=>{if(e.firstElementChild)return;const{width:n,height:c}=t,s=e.cloneNode();s.style.setProperty("display","block"),s.style.setProperty("width",`${n}px`),s.style.setProperty("height",`${c}px`),s.style.setProperty("pointer-events","none"),e.appendChild(s),e.style.setProperty("display","block")},Ce=({el:e})=>{e.style.display="",e.removeAttribute("style"),e.firstElementChild&&e.firstElementChild.remove()},ht=({el:e,shifted:t,draggingElRect:n},c=0)=>{const{height:s}=n;requestAnimationFrame(()=>{e.style.setProperty("pointer-events","none"),e.style.setProperty("transition","none 0s ease 0s"),t&&e.style.setProperty("transform",`translateY(${s+c}px)`)})},pt=({el:e})=>{requestAnimationFrame(()=>{e.style.removeProperty("pointer-events"),e.style.removeProperty("transition"),e.style.removeProperty("transform")})},vt=({elRef:e,onDragFinish:t})=>{const[n,c]=h.useState(!1),s=h.useRef(0),d=h.useRef(0),u=h.useRef(null),f=h.useRef(0),m=h.useRef(null),b=i=>{const a=Ae(i);a&&(u.current=a,f.current=ne(a).scrollTop,m.current=at(u.current))},P=()=>{var i;f.current=0,(i=m.current)===null||i===void 0||i.stop(),u.current=m.current=null},g=h.useRef(void 0),x=(i,a)=>{const o=i-a;return o<0?"down":o>0?"up":g.current},v=h.useRef(W),k=h.useRef(W),C=h.useRef(null),_=h.useRef(null),E=h.useRef([]),N=h.useRef(0),L=i=>{const a=ie(i,!0),o=i.parentElement;N.current=o?parseInt(o.style.gridGap):0;const{children:r}=o||{children:[]};Array.prototype.forEach.call(r,(y,p)=>{y===i?(v.current=k.current=p,C.current={index:p,el:y,draggingElRect:a}):y.getAttribute(lt)!==null?_.current={index:p,el:y,draggingElRect:a}:E.current.push({index:p,el:y,shifted:v.current!==W&&v.current<p,draggingElRect:a})}),_.current&&mt(_.current),C.current&&dt(C.current),E.current.forEach(y=>ht(y,N.current))},O=()=>{_.current&&Ce(_.current),C.current&&ft(C.current),E.current.forEach(pt),E.current=[],_.current=C.current=null;const i={from:v.current,to:k.current};return v.current=k.current=W,i},Y=i=>{const a=[],o=[];return k.current=v.current,E.current.forEach(r=>{const{isOverEl:y,isUnderEl:p}=ut(i,ie(r.el));v.current<r.index?(y&&(k.current=k.current+1,g.current==="down"&&r.shifted&&(r.shifted=!1,a.push([r,"up"]))),p&&g.current==="up"&&!r.shifted&&(r.shifted=!0,o.push([r,"down"]))):v.current>r.index&&(p&&(k.current=k.current-1,g.current==="up"&&!r.shifted&&(r.shifted=!0,a.push([r,"down"]))),y&&g.current==="down"&&r.shifted&&(r.shifted=!1,o.push([r,"up"])))}),[a,o]},z=(i,a)=>{i.forEach(o=>ge(o,N.current)),a.forEach(o=>ge(o,N.current))},A=h.useRef(null),I=()=>{A.current&&(clearTimeout(A.current),A.current=null)},X=()=>{m.current&&m.current.tryAutoScroll(()=>u.current?it(s.current,u.current):{shouldScrolling:!1,y:0})},w=()=>{I(),A.current=setTimeout(()=>{A.current=null,X()},st)},B=i=>{i.originalEvent.stopPropagation(),i.originalEvent.preventDefault()},j=i=>{i.originalEvent.stopPropagation(),i.originalEvent.preventDefault();const a=e.current;if(a)if(n)if(g.current=x(d.current,i.shiftY),d.current=i.shiftY,s.current=i.clientY,m.current&&m.current.isRunning)ve(a,d.current);else{const[o,r]=Y(s.current);ve(a,d.current),z(o,r),w()}else c(o=>o||(b(a),L(a),!0))},q=i=>{if(i.originalEvent.stopPropagation(),i.originalEvent.preventDefault(),I(),P(),s.current=d.current=0,g.current=void 0,n){const a=O();t&&t(a),c(!1)}},M=h.useCallback(()=>{if(!e.current||!u.current)return;const i=ne(u.current).scrollTop;g.current=x(f.current,i);const a=f.current-i,o=s.current+a;f.current=i;const[r,y]=Y(o);z(r,y)},[e]);return K(function(){const a=u.current;if(!(!n||!a))return a.addEventListener("scroll",M),()=>{a&&a.removeEventListener("scroll",M)}},[n,M]),K(()=>function(){_.current&&Ce(_.current)},[]),{dragging:n,onDragStart:B,onDragMove:j,onDragEnd:q}},gt={s:ze,m:Fe},Ct=e=>{var{size:t="m"}=e,n=U(e,["size"]);const c=gt[t];return l.jsx(c,D({},n))},_t={none:"vkuiSimpleCell--sizeY-none",compact:"vkuiSimpleCell--sizeY-compact"},ee=e=>{var{badgeBeforeTitle:t,badgeAfterTitle:n,badgeBeforeSubtitle:c,badgeAfterSubtitle:s,before:d,indicator:u,children:f,after:m,expandable:b,multiline:P,subhead:g,subtitle:x,extraSubtitle:v,className:k,chevronSize:C="m"}=e,_=U(e,["badgeBeforeTitle","badgeAfterTitle","badgeBeforeSubtitle","badgeAfterSubtitle","before","indicator","children","after","expandable","multiline","subhead","subtitle","extraSubtitle","className","chevronSize"]);const E=G(),N=b==="always"||b==="auto"&&E==="ios",L=Q(m)||N,{sizeY:O="none"}=be();return l.jsxs(De,H(D({},_),{className:R("vkuiSimpleCell",_.disabled&&"vkuiSimpleCell--disabled",O!=="regular"&&_t[O],P&&"vkuiSimpleCell--mult",k),children:[l.jsx("div",{className:R("vkuiSimpleCell__before",E==="ios"&&"vkuiSimpleCell__before--ios"),children:d}),l.jsxs("div",{className:"vkuiSimpleCell__middle",children:[g&&l.jsx(ye,{Component:"span",className:R("vkuiSimpleCell__text","vkuiSimpleCell__subhead"),children:g}),l.jsxs("div",{className:"vkuiSimpleCell__content",children:[t&&l.jsx("span",{className:"vkuiSimpleCell__badge",children:t}),l.jsx(ue,{Component:"span",className:"vkuiSimpleCell__children",weight:"3",children:f}),Q(n)&&l.jsx("span",{className:"vkuiSimpleCell__badge",children:n})]}),x&&l.jsxs("div",{className:"vkuiSimpleCell__content",children:[c&&l.jsx("span",{className:"vkuiSimpleCell__badge",children:c}),l.jsx(ae,{normalize:!1,className:R("vkuiSimpleCell__text","vkuiSimpleCell__subtitle"),children:x}),s&&l.jsx("span",{className:"vkuiSimpleCell__badge",children:s})]}),v&&l.jsx(ae,{className:R("vkuiSimpleCell__text","vkuiSimpleCell__extraSubtitle"),children:v})]}),Q(u)&&l.jsx(ue,{Component:"span",weight:"3",className:"vkuiSimpleCell__indicator",children:u}),L&&l.jsxs("div",{className:R("vkuiSimpleCell__after","vkuiInternalSimpleCell__after"),children:[m,N&&l.jsx(Ct,{size:C,className:"vkuiSimpleCell__chevronIcon"})]})]}))},kt=()=>l.jsx(Z,{IconCompact:je,IconRegular:Xe}),xt=()=>l.jsx(Z,{IconCompact:Be,IconRegular:Oe}),bt=()=>l.jsx(Z,{IconCompact:Me,IconRegular:He}),yt=()=>l.jsx(Z,{IconCompact:Le,IconRegular:qe});function St(e){const t=G();return e!=="auto"?e:t==="ios"||t==="vkcom"?"circle":"square"}const ke=e=>{var{getRootRef:t,getRef:n,className:c,style:s,type:d="auto"}=e,u=U(e,["getRootRef","getRef","className","style","type"]);const f=St(d),m=f==="circle"?yt:xt,b=f==="circle"?bt:kt;return l.jsxs("span",{className:R("vkuiCellCheckbox",c),style:s,ref:t,children:[l.jsx(_e,H(D({},u),{Component:"input",type:"checkbox",className:"vkuiCellCheckbox__input",getRootRef:n})),l.jsx("span",{className:R("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--off"),"aria-hidden":!0,children:l.jsx(m,{})}),l.jsx("span",{className:R("vkuiCellCheckbox__icon","vkuiCellCheckbox__icon--on"),"aria-hidden":!0,children:l.jsx(b,{})})]})},wt=e=>{var{elRef:t,disabled:n,className:c,onDragStateChange:s,onDragFinish:d,children:u}=e,f=U(e,["elRef","disabled","className","onDragStateChange","onDragFinish","children"]);const b=G()==="ios"?Ge:Ue,{dragging:P,onDragStart:g,onDragMove:x,onDragEnd:v}=vt({elRef:t,onDragFinish:d});return K(()=>{s&&s(P)},[P,s]),l.jsxs(rt,H(D({className:R("vkuiCellDragger",c),onStart:n?void 0:g,onMoveY:n?void 0:x,onEnd:n?void 0:v},f),{children:[u&&l.jsx(_e,{children:u}),l.jsx(b,{className:"vkuiCellDragger__icon"})]}))},Rt="Перенести ячейку",Et=e=>{var{mode:t,onRemove:n,removePlaceholder:c="Удалить",onDragFinish:s,before:d,after:u,disabled:f,draggable:m,Component:b,onChange:P,name:g,value:x,checked:v,defaultChecked:k,getRootRef:C,draggerLabel:_=Rt,className:E,style:N,toggleButtonTestId:L,removeButtonTestId:O}=e,Y=U(e,["mode","onRemove","removePlaceholder","onDragFinish","before","after","disabled","draggable","Component","onChange","name","value","checked","defaultChecked","getRootRef","draggerLabel","className","style","toggleButtonTestId","removeButtonTestId"]);const[z,A]=h.useState(!1),I=t==="selectable",X=t==="removable",w=I?"label":b,B=G(),j=Se(C),q=m?l.jsx(wt,{elRef:j,className:R("vkuiCell__dragger",!d&&!I&&"vkuiCell__control--noBefore"),onDragStateChange:A,onDragFinish:s,children:_}):null;let M;if(I){const r={name:g,value:x,defaultChecked:k,checked:v,disabled:f,onChange:P};M=l.jsx(ke,D({className:R("vkuiCell__checkbox",!d&&"vkuiCell__control--noBefore")},r))}const i=!f&&!z,a=R("vkuiCell",z&&"vkuiCell--dragging",B==="ios"&&"vkuiCell--ios",X&&"vkuiCell--removable",w==="label"&&"vkuiCell--selectable"),o=H(D(H(D({hasActive:i,hasHover:i&&!X,disabled:f},Y),{className:"vkuiCell__content"}),w&&{Component:w}),{before:l.jsxs(h.Fragment,{children:[m&&B!=="ios"&&q,I&&M,d]}),after:l.jsxs(h.Fragment,{children:[m&&B==="ios"&&q,u]})});return X?l.jsx(Te,{className:R(a,E),style:N,getRootRef:j,removePlaceholder:c,onRemove:r=>n==null?void 0:n(r,j.current),toggleButtonTestId:L,removeButtonTestId:O,disabled:f,children:B==="ios"?({isRemoving:r})=>l.jsx(ee,D({},o,r?{onClick:void 0}:{})):l.jsx(ee,D({},o))}):l.jsx("div",{className:R(a,E),style:N,ref:j,children:l.jsx(ee,D({},o))})};Et.Checkbox=ke;export{Et as C,tt as a,nt as t,de as u};
