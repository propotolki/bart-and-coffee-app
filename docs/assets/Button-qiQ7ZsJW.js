import{e as k,r as a,b as S,d as y,a as C,W as F,f as Y,j as l,R as $,Y as B,c as z,Z as G,u as H,$ as U,a4 as q}from"./_plugin-vue_export-helper-CR7FrT2r.js";function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function Z(e){var t=!!document.importNode,n=new DOMParser().parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}var D=function(){function e(t){var n=t.content;L(this,e),k(this,"isMounted",!1),k(this,"node",void 0),this.node=Z(n)}return O(e,[{key:"id",get:function(){return this.node.id}},{key:"mount",value:function(n){return this.isMounted?this.node:(this.isMounted=!0,n.appendChild(this.node),this.node)}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.isMounted=!1)}}],[{key:"createFromExistingNode",value:function(n){var i=new e({content:""});return i.node=n,i}}]),e}(),R="http://www.w3.org/2000/svg",W=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(this,e),k(this,"symbols",new Map),k(this,"config",{attrs:{xmlns:R,"xmlns:xlink":"http://www.w3.org/1999/xlink",style:"position:absolute;width:0;height:0","aria-hidden":"true"}}),k(this,"node",null),Object.assign(this.config.attrs,t.attrs)}return O(e,[{key:"push",value:function(n){var i=this.symbols,o=i.has(n.id);return i.set(n.id,n),!o}},{key:"add",value:function(n){var i=this.push(n);return this.node&&i&&n.mount(this.node),i}},{key:"attach",value:function(n){var i=this;this.node||(this.node=n,this.symbols.forEach(function(o){o.mount(n)}),n.querySelectorAll("symbol").forEach(function(o){var s=D.createFromExistingNode(o);i.add(s)}))}},{key:"mount",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.node?this.node:(this.node=this.render(),i&&n.childNodes[0]?n.insertBefore(this.node,n.firstChild):n.appendChild(this.node),this.node)}},{key:"render",value:function(){var n=document.createElementNS(R,"svg");return Object.entries(this.config.attrs).forEach(function(i){return n.setAttribute(i[0],i[1])}),this.symbols.forEach(function(i){return n.appendChild(i.node)}),n}},{key:"unmount",value:function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)}}]),e}(),P=!!(typeof window!="undefined"&&window.document&&window.document.createElement),p;if(P){var A="__SVG_SPRITE_NODE__";p=new W({attrs:{id:A}});var _=function(){var e=document.getElementById(A);e?p.attach(e):p.mount(document.body),document.removeEventListener("DOMContentLoaded",_)};document.querySelector("body")?_():document.addEventListener("DOMContentLoaded",_)}else p=null;function X(e){p&&p.add(e)}var J=P?a.useLayoutEffect:a.useEffect,K=function(e){var t=e.width,n=t===void 0?0:t,i=e.height,o=i===void 0?0:i,s=e.display,v=s===void 0?"block":s,d=e["aria-hidden"],u=d===void 0?!0:d,m=e.iconId,h=e.className,r=e.fill,c=e.getRootRef,I=e.style,b=e.title,f=e.children,N=C(e,["width","height","display","aria-hidden","iconId","className","fill","getRootRef","style","title","children"]),g=a.Children.toArray(f)[0],w=a.isValidElement(g)&&typeof g.type=="function"&&"mountIcon"in g.type,x=Math.max(n,o),V=y({width:n,height:o},I);return a.createElement("svg",y({"aria-hidden":u,display:v,className:["vkuiIcon","vkuiIcon--".concat(x),"vkuiIcon--w-".concat(n),"vkuiIcon--h-".concat(o),"vkuiIcon--".concat(m),h].join(" ").trim(),width:n,height:o,style:V,ref:c},N),b&&a.createElement("title",null,b),w&&f,a.createElement("use",{xlinkHref:"#".concat(m),style:{fill:"currentColor",color:r}},!w&&f))};function E(e,t,n,i,o,s,v,d,u){var m=!1;function h(){m||(X(new D({content:i})),m=!0)}var r=function(c){return J(h,[]),a.createElement(K,S(y(S(y({},u),{viewBox:n,iconId:t}),c),{width:c.width!==void 0&&!isNaN(c.width)?+c.width:o,height:c.height!==void 0&&!isNaN(c.height)?+c.height:s}))};return r.mountIcon=h,r.displayName=e,r}var Q=a.createContext("light"),me=Q.Provider,ee=E("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="spinner_16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.149 7.065.75.75 0 1 1-1.31.732A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 .001-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd" /></symbol>',16,16),ne=E("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123" clip-rule="evenodd" /></symbol>',24,24),te=E("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 16 16 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16" /></symbol>',32,32),ie=E("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A22 22 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22" /></symbol>',44,44);function oe(e,t){e.addEventListener?e.addEventListener("change",t):e.addListener(t)}function ae(e,t){e.removeEventListener?e.removeEventListener("change",t):e.removeListener(t)}const j="screen and (prefers-reduced-motion: reduce)",re=()=>{const{window:e}=F(),t=a.useMemo(()=>e?e.matchMedia(j).matches:!1,[e]),n=a.useRef(t);return Y(()=>{if(!e)return;const i=e.matchMedia(j);n.current=i.matches;const o=s=>{n.current=s.matches};return oe(i,o),()=>ae(i,o)},[e]),n.current},T=a.memo(e=>{var{size:t="regular",children:n="Загружается...",disableAnimation:i=!1,noColor:o=!1}=e,s=C(e,["size","children","disableAnimation","noColor"]);const v=re(),d={small:ee,regular:ne,medium:te,large:ie}[t];let u=null;const[m,h]=a.useState(!!i);if(a.useEffect(function(){h(!0)},[]),m&&!i)if(v)u=l.jsx("animate",{attributeName:"opacity",keyTimes:"0; 0.5; 1",values:"1; 0.1; 1",begin:"0s",dur:"2s",repeatCount:"indefinite"});else{const r={small:8,regular:12,medium:16,large:22}[t];u=l.jsx("animateTransform",{attributeType:"XML",attributeName:"transform",type:"rotate",from:`0 ${r} ${r}`,to:`360 ${r} ${r}`,dur:"0.7s",repeatCount:"indefinite"})}return l.jsxs($,S(y({Component:"span",role:"status"},s),{baseClassName:z("vkuiSpinner",o&&"vkuiSpinner--no-color"),children:[l.jsx(d,{children:u}),B(n)&&l.jsx(G,{children:n})]}))});T.displayName="Spinner";const se={s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"},ue={primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"},ce={accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"},le={left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"},de={none:"vkuiButton--sizeY-none",regular:"vkuiButton--sizeY-regular"},ve=e=>{var{size:t="s",mode:n="primary",appearance:i="accent",stretched:o=!1,align:s="center",children:v,before:d,after:u,getRootRef:m,loading:h,onClick:r,className:c,disableSpinnerAnimation:I,rounded:b}=e,f=C(e,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","className","disableSpinnerAnimation","rounded"]);const N=!!(d||u),g=!v&&!!u!=!!d,{sizeY:w="none"}=H(),x=U();return l.jsxs(q,S(y({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:f.href?"a":"button",focusVisibleMode:"outside"},f),{onClick:h?void 0:r,className:z(c,"vkuiButton",se[t],ue[n],ce[i],le[s],w!=="compact"&&de[w],x==="ios"&&"vkuiButton--ios",o&&"vkuiButton--stretched",N&&"vkuiButton--with-icon",g&&!o&&"vkuiButton--singleIcon",h&&"vkuiButton--loading",b&&"vkuiButton--rounded"),getRootRef:m,children:[h&&l.jsx(T,{size:"small",className:"vkuiButton__spinner",disableAnimation:I}),l.jsxs("span",{className:"vkuiButton__in",children:[B(d)&&l.jsx("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0,children:d}),B(v)&&l.jsx("span",{className:"vkuiButton__content","data-testid":void 0,children:v}),B(u)&&l.jsx("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0,children:u})]})]}))};export{ve as B,me as I,T as S,E as m};
