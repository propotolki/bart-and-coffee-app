import{_ as F,aJ as P,aA as V,z as k,aK as z,l as s,R as K,m as H,n as x,q as D,aV as Y,x as q,aF as L,aS as J,aH as A,I as W,ax as Q,aW as U,aO as X}from"./index-jcpojfjV.js";const G=k.createContext({mode:"default",withGaps:!1,layoutFillMode:"auto",withScrollToSelectedTab:!1,scrollBehaviorToSelectedTab:"nearest"}),ne=b=>{var{children:h,mode:i="default",role:l="tablist",withScrollToSelectedTab:T,scrollBehaviorToSelectedTab:a="nearest",layoutFillMode:w="auto"}=b,p=F(b,["children","mode","role","withScrollToSelectedTab","scrollBehaviorToSelectedTab","layoutFillMode"]);const E=P(),{document:o}=V(),_=l==="tablist",d=k.useRef(null),I=i==="accent"||i==="secondary",m=()=>d.current?Array.from(d.current.querySelectorAll("[role=tab]:not([disabled])")):[];return z(o,"keydown",f=>{if(!o||!d.current||!_)return;const u=Y(f);switch(u){case"ArrowLeft":case"ArrowRight":case"End":case"Home":{const n=m(),t=n.findIndex(c=>o.activeElement===c);if(t===-1)return;let e=0;u==="Home"?e=0:u==="End"?e=n.length-1:e=t+(u==="ArrowRight"?1:-1);const r=n[e];r&&(f.preventDefault(),r.focus());break}case"ArrowDown":{const t=m().find(c=>o.activeElement===c);if(!t||t.getAttribute("aria-selected")!=="true")return;const e=t.getAttribute("aria-controls");if(!e)return;const r=o.getElementById(e);if(!r)return;f.preventDefault(),r.focus();break}case"Space":case"Enter":{const t=m().find(e=>o.activeElement===e);t&&t.click()}}},{capture:!0}),s.jsx(K,H(D({},p),{baseClassName:x("vkuiTabs","vkuiInternalTabs",E==="vkcom"&&"vkuiInternalTabs--vkcom",I&&x("vkuiTabs--withGaps","vkuiInternalTabs--withGaps"),i==="default"&&"vkuiTabs--mode-default"),role:l,children:s.jsx("div",{className:"vkuiTabs__in",ref:d,children:s.jsx(G.Provider,{value:{mode:i,withGaps:I,layoutFillMode:w,withScrollToSelectedTab:T,scrollBehaviorToSelectedTab:a},children:h})})}))},Z={none:"vkuiTabsItem--sizeY-none",compact:"vkuiTabsItem--sizeY-compact"},$={default:"vkuiTabsItem--mode-default",accent:"vkuiTabsItem--mode-accent",secondary:"vkuiTabsItem--mode-secondary"},ee={stretched:"vkuiTabsItem--stretched",shrinked:"vkuiTabsItem--shrinked"},re=b=>{var{before:h,children:i,status:l,after:T,selected:a=!1,className:w,role:p="tab",tabIndex:E,getRootRef:o,hoverMode:_="vkuiTabsItem--hover",activeMode:d="",hovered:I,activated:m,hasHover:S,hasActive:f=!1,focusVisibleMode:u="inside"}=b,n=F(b,["before","children","status","after","selected","className","role","tabIndex","getRootRef","hoverMode","activeMode","hovered","activated","hasHover","hasActive","focusVisibleMode"]);const{sizeY:t="none"}=q(),{mode:e,withGaps:r,layoutFillMode:c,scrollBehaviorToSelectedTab:g,withScrollToSelectedTab:O}=k.useContext(G);let j=null;const B=p==="tab";L(l)&&(j=typeof l=="number"?s.jsxs(J,{Component:"span",className:x("vkuiTabsItem__status","vkuiTabsItem__status--count"),weight:"2",children:[s.jsx(A,{children:" "}),l]}):s.jsxs("span",{className:"vkuiTabsItem__status",children:[s.jsx(A,{children:" "}),l]}));let y=E;B&&y===void 0&&(y=a?0:-1);const v=W(o),M=Q(a),N=O&&!(M===void 0)&&M!==a&&a,{document:R}=V();return k.useEffect(function(){if(!N||!v.current||!R)return;const C=v.current.getBoundingClientRect();if(!(C.top<0||C.bottom>R.documentElement.clientHeight))try{v.current.scrollIntoView({inline:g,block:"nearest",behavior:"smooth"})}catch(oe){}},[v,R,N,g]),s.jsxs(U,H(D({},n),{getRootRef:v,className:x("vkuiTabsItem",e&&$[e],a&&"vkuiTabsItem--selected",t!=="regular"&&Z[t],r&&"vkuiTabsItem--withGaps",c!=="auto"&&ee[c],w),hoverMode:_,activeMode:d,hasHover:S,hasActive:f,hovered:I,activated:m,focusVisibleMode:u,role:p,"aria-selected":a,tabIndex:y,children:[h&&s.jsx("div",{className:"vkuiTabsItem__before",children:h}),s.jsx(X,{Component:"span",className:"vkuiTabsItem__label",level:e==="default"?"1":"2",weight:"2",children:i}),j,T&&s.jsx("div",{className:"vkuiTabsItem__after",children:T}),e==="default"&&s.jsx("div",{className:"vkuiTabsItem__underline","aria-hidden":!0,"data-selected":a})]}))};export{ne as T,re as a};
