import{_ as I,l as o,T as H,q as p,n,aA as O,z as x,E as V,R as q,m as F,aS as S,I as W,x as A,aT as $,aU as B,aF as T,aG as D,K as G}from"./index-jcpojfjV.js";const K=e=>{var{as:t,noPadding:s=!1,className:i}=e,a=I(e,["as","noPadding","className"]);return o.jsx(H,p({Component:t,normalize:!1,className:n("vkuiUnstyledTextField",s&&"vkuiUnstyledTextField--noPadding",i)},a))},L=(e,t)=>e.contains(t.activeElement);function J(e){const{document:t}=O(),[s,i]=x.useState(()=>e.current&&t?L(e.current,t):!1);return V(function(){if(!t)return;const r=()=>{e.current&&i(L(e.current,t))};return r(),t.addEventListener("focus",r,{capture:!0}),t.addEventListener("blur",r,{capture:!0}),()=>{t.removeEventListener("focus",r,{capture:!0}),t.removeEventListener("blur",r,{capture:!0})}},[]),s}const E=e=>o.jsx(q,F(p({},e),{baseClassName:"vkuiFormItem__top"}));E.displayName="FormItemTop";const w=e=>{var{children:t}=e,s=I(e,["children"]);return o.jsx(S,F(p({className:"vkuiFormItemTop__aside"},s),{children:t}))};w.displayName="FormItemTopAside";const U=x.createContext({required:!1,topMultiline:!1}),Y=e=>{var{children:t,Component:s,htmlFor:i,multiline:a}=e,r=I(e,["children","Component","htmlFor","multiline"]);const u=s||i&&"label"||"span",{required:l,topMultiline:m}=x.useContext(U);return o.jsxs(S,F(p({className:n("vkuiFormItemTop__label",(a!=null?a:m)&&"vkuiFormItemTop__label--multiline"),Component:u,htmlFor:i},r),{children:[t,l&&o.jsx("span",{className:"vkuiFormItemTop__label--required","aria-hidden":!0,children:"*"})]}))};Y.displayName="FormItemTopLabel";const Q={none:n("vkuiFormItem--sizeY-none","vkuiInternalFormItem--sizeY-none"),compact:n("vkuiFormItem--sizeY-compact","vkuiInternalFormItem--sizeY-compact")},X={error:n("vkuiFormItem--status-error","vkuiInternalFormItem--status-error"),valid:n("vkuiFormItem--status-valid","vkuiInternalFormItem--status-valid")},f=e=>{var{children:t,top:s,topId:i,topMultiline:a,topComponent:r,bottom:u,status:l="default",removable:m,onRemove:d,removePlaceholder:k="Удалить",getRootRef:h,htmlFor:v,bottomId:g,noPadding:j,topNode:b,required:N=!1}=e,C=I(e,["children","top","topId","topMultiline","topComponent","bottom","status","removable","onRemove","removePlaceholder","getRootRef","htmlFor","bottomId","noPadding","topNode","required"]);const c=W(h),{sizeY:_="none"}=A(),R=o.jsxs(x.Fragment,{children:[T(b)?b:T(s)?o.jsx(E,{children:o.jsx(Y,{htmlFor:v,Component:r,multiline:a,id:i,children:s})}):null,t,T(u)&&o.jsx(D,{className:"vkuiFormItem__bottom",id:g,role:l==="error"?"alert":void 0,children:u})]}),y=$({required:N,topMultiline:a});return o.jsx(q,F(p({},C),{getRootRef:c,baseClassName:n("vkuiFormItem",!j&&"vkuiFormItem--withPadding","vkuiInternalFormItem",l!=="default"&&X[l],_!=="regular"&&Q[_],T(s)&&n("vkuiFormItem--withTop","vkuiInternalFormItem--withTop"),m&&n("vkuiFormItem--removable","vkuiInternalFormItem--removable")),children:o.jsx(U.Provider,{value:y,children:m?o.jsx(B,{align:"start",onRemove:P=>{c!=null&&c.current&&(d==null||d(P,c.current))},removePlaceholder:k,indent:m==="indent",children:o.jsx("div",{className:n("vkuiFormItem__removable","vkuiInternalFormItem__removable"),children:R})}):R})}))};f.displayName="FormItem";f.Top=E;f.Top.displayName="FormItem.Top";f.TopLabel=Y;f.TopLabel.displayName="FormItem.TopLabel";f.TopAside=w;f.TopAside.displayName="FormItem.TopAside";const Z={none:"vkuiFormField--sizeY-none",compact:"vkuiFormField--sizeY-compact"},ee={error:"vkuiFormField--status-error",valid:"vkuiFormField--status-valid"},te={center:void 0,start:"vkuiFormField__icon--align-start",end:"vkuiFormField__icon--align-end"},M=(e,t,s)=>o.jsx("div",{className:"vkuiFormField__iconWrapper",children:o.jsx("span",{className:n(te[t],s),children:e})}),oe=e=>{var{Component:t="span",status:s="default",children:i,getRootRef:a,before:r,after:u,beforeAlign:l="center",afterAlign:m="center",disabled:d,mode:k="default",className:h,maxHeight:v,style:g}=e,j=I(e,["Component","status","children","getRootRef","before","after","beforeAlign","afterAlign","disabled","mode","className","maxHeight","style"]);const b=W(a),{sizeY:N="none"}=A(),[C,c]=x.useState(!1),_=J(b),R=G({focusVisible:_,mode:"vkuiFormField--focus-visible"}),y=z=>{z.stopPropagation(),c(!0)},P=z=>{z.stopPropagation(),c(!1)};return o.jsxs(t,F(p({},j),{ref:b,style:v!==void 0?F(p({},g),{maxHeight:v}):g,onMouseEnter:y,onMouseLeave:P,className:n("vkuiFormField",k==="default"&&"vkuiFormField--mode-default",s!=="default"&&ee[s],N!=="regular"&&Z[N],d&&"vkuiFormField--disabled",!d&&C&&"vkuiFormField--hover",R,h),children:[o.jsxs("div",{className:"vkuiFormField_scrollContainer",children:[r&&M(r,l,"vkuiFormField__before"),o.jsx("div",{className:"vkuiFormField__content",children:i}),u&&M(u,m,n("vkuiFormField__after","vkuiInternalFormField__after"))]}),o.jsx("span",{"aria-hidden":!0,className:"vkuiFormField__border"})]}))},se={none:"vkuiInput--sizeY-none",compact:"vkuiInput--sizeY-compact"},ne=e=>{var{type:t="text",align:s="left",getRef:i,className:a,getRootRef:r,style:u,before:l,after:m,status:d,mode:k}=e,h=I(e,["type","align","getRef","className","getRootRef","style","before","after","status","mode"]);const{sizeY:v="none"}=A();return o.jsx(oe,{style:u,className:n("vkuiInput",s==="right"&&"vkuiInput--align-right",s==="center"&&"vkuiInput--align-center",v!=="regular"&&se[v],l&&"vkuiInput--hasBefore",m&&"vkuiInput--hasAfter",a),getRootRef:r,before:l,after:m,disabled:h.disabled,mode:k,status:d,children:o.jsx(K,F(p({},h),{as:"input",type:t,className:"vkuiInput__el",getRootRef:i}))})};export{f as F,ne as I,K as U,oe as a,J as u};
