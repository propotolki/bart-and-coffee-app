var Xe=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ae=(e,t,n)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ue=(e,t)=>{for(var n in t||(t={}))Ye.call(t,n)&&ae(e,n,t[n]);if(ie)for(var n of ie(t))ze.call(t,n)&&ae(e,n,t[n]);return e};function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Ge(e,r,n[r])})}return e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n.push.apply(n,o)}return n}function J(e,t){return t=t!=null?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Je(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function b(e,t){if(e==null)return{};var n=Je(e,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var ye={exports:{}},H={},be={exports:{}},l={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N=Symbol.for("react.element"),Qe=Symbol.for("react.portal"),Ze=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),ot=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),it=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),ce=Symbol.iterator;function ut(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ce=Object.assign,ke={};function A(e,t,n){this.props=e,this.context=t,this.refs=ke,this.updater=n||ge}A.prototype.isReactComponent={};A.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function we(){}we.prototype=A.prototype;function Q(e,t,n){this.props=e,this.context=t,this.refs=ke,this.updater=n||ge}var Z=Q.prototype=new we;Z.constructor=Q;Ce(Z,A.prototype);Z.isPureReactComponent=!0;var le=Array.isArray,_e=Object.prototype.hasOwnProperty,ee={current:null},Pe={key:!0,ref:!0,__self:!0,__source:!0};function Ee(e,t,n){var o,r={},s=null,i=null;if(t!=null)for(o in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)_e.call(t,o)&&!Pe.hasOwnProperty(o)&&(r[o]=t[o]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(o in a=e.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:N,type:e,key:s,ref:i,props:r,_owner:ee.current}}function ct(e,t){return{$$typeof:N,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function te(e){return typeof e=="object"&&e!==null&&e.$$typeof===N}function lt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fe=/\/+/g;function X(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lt(""+e.key):t.toString(36)}function I(e,t,n,o,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case N:case Qe:i=!0}}if(i)return i=e,r=r(i),e=o===""?"."+X(i,0):o,le(r)?(n="",e!=null&&(n=e.replace(fe,"$&/")+"/"),I(r,t,n,"",function(c){return c})):r!=null&&(te(r)&&(r=ct(r,n+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(fe,"$&/")+"/")+e)),t.push(r)),1;if(i=0,o=o===""?".":o+":",le(e))for(var a=0;a<e.length;a++){s=e[a];var u=o+X(s,a);i+=I(s,t,n,u,r)}else if(u=ut(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=o+X(s,a++),i+=I(s,t,n,u,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function M(e,t,n){if(e==null)return e;var o=[],r=0;return I(e,o,"","",function(s){return t.call(n,s,r++)}),o}function ft(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var h={current:null},D={transition:null},dt={ReactCurrentDispatcher:h,ReactCurrentBatchConfig:D,ReactCurrentOwner:ee};function Se(){throw Error("act(...) is not supported in production builds of React.")}l.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(t){return t})||[]},only:function(e){if(!te(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};l.Component=A;l.Fragment=Ze;l.Profiler=tt;l.PureComponent=Q;l.StrictMode=et;l.Suspense=st;l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dt;l.act=Se;l.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Ce({},e.props),r=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ee.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)_e.call(t,u)&&!Pe.hasOwnProperty(u)&&(o[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];o.children=a}return{$$typeof:N,type:e.type,key:r,ref:s,props:o,_owner:i}};l.createContext=function(e){return e={$$typeof:ot,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nt,_context:e},e.Consumer=e};l.createElement=Ee;l.createFactory=function(e){var t=Ee.bind(null,e);return t.type=e,t};l.createRef=function(){return{current:null}};l.forwardRef=function(e){return{$$typeof:rt,render:e}};l.isValidElement=te;l.lazy=function(e){return{$$typeof:at,_payload:{_status:-1,_result:e},_init:ft}};l.memo=function(e,t){return{$$typeof:it,type:e,compare:t===void 0?null:t}};l.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}};l.unstable_act=Se;l.useCallback=function(e,t){return h.current.useCallback(e,t)};l.useContext=function(e){return h.current.useContext(e)};l.useDebugValue=function(){};l.useDeferredValue=function(e){return h.current.useDeferredValue(e)};l.useEffect=function(e,t){return h.current.useEffect(e,t)};l.useId=function(){return h.current.useId()};l.useImperativeHandle=function(e,t,n){return h.current.useImperativeHandle(e,t,n)};l.useInsertionEffect=function(e,t){return h.current.useInsertionEffect(e,t)};l.useLayoutEffect=function(e,t){return h.current.useLayoutEffect(e,t)};l.useMemo=function(e,t){return h.current.useMemo(e,t)};l.useReducer=function(e,t,n){return h.current.useReducer(e,t,n)};l.useRef=function(e){return h.current.useRef(e)};l.useState=function(e){return h.current.useState(e)};l.useSyncExternalStore=function(e,t,n){return h.current.useSyncExternalStore(e,t,n)};l.useTransition=function(){return h.current.useTransition()};l.version="18.3.1";be.exports=l;var f=be.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=f,mt=Symbol.for("react.element"),vt=Symbol.for("react.fragment"),ht=Object.prototype.hasOwnProperty,yt=pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bt={key:!0,ref:!0,__self:!0,__source:!0};function Oe(e,t,n){var o,r={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(o in t)ht.call(t,o)&&!bt.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:mt,type:e,key:s,ref:i,props:r,_owner:yt.current}}H.Fragment=vt;H.jsx=Oe;H.jsxs=Oe;ye.exports=H;var g=ye.exports,_=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}();function gt(e){"@swc/helpers - typeof";return e&&typeof Symbol!="undefined"&&e.constructor===Symbol?"symbol":typeof e}function Ae(e){e||(e=_?navigator.userAgent:""),e=e.toLowerCase();var t=_t(e),n=t||e.includes("ipad"),o=!n&&e.search(/iphone|ipod/)!==-1,r=o||n,s=r&&e.match(/os ([\d_]+) like mac os x/i),i=0,a=0;t?(i=13,a=0):s&&(s=s[1].split("_"),i=+s[0],a=+s[1]),s=null;var u=i<13&&!(i===11&&a<3),c=r&&wt(e),d=!1;_&&(d=r&&screen.width===375&&screen.height===812&&window.devicePixelRatio===3);var p=e.search(/crios/i)!==-1;return{isIPad:n,isIPhone:o,isIOS:r,isIPadOS:t,iosMajor:i,iosMinor:a,isWKWebView:c,isScrollBasedViewport:u,isIPhoneX:d,isIOSChrome:p}}var Re=Ae(),Ct=function(){return Re.isIOS}(),kt=function(){return Re.isIPadOS}();function wt(e){if(!_)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),o=!!window.indexedDB;if(!(e.includes("safari")&&e.includes("version")&&!navigator.standalone)){if(!(!o&&n||!(window.statusbar&&window.statusbar.visible))){if(!n||o)return!0}}return!1}function _t(e){if(!_)return!1;var t=!/ipPad|iPhone|iPod/i.test(e),n=/Mac OS/i.test(e);return t&&n&&"ontouchend"in document}var Pt=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!_)return e;if(Ct&&!kt)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse=typeof window.matchMedia=="function"&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&(typeof window.matchMedia=="function"&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),Et=function(){return Pt.hasMouse}();function Te(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Te(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function w(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Te(e))&&(o&&(o+=" "),o+=t);return o}var y=function(){};function qn(e){return(typeof e=="undefined"?"undefined":gt(e))==="object"&&e!==null}function St(e){return typeof e=="function"}function P(e,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Jn(e){return e!==void 0&&e!==!1&&e!==null&&e!==""}const Ot=f.createContext({}),At=()=>f.useContext(Ot),v={ENTER:"Enter",SPACE:"Space",TAB:"Tab",ESCAPE:"Escape",HOME:"Home",END:"End",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},Rt=new Map([["Enter",v.ENTER],["Space",v.SPACE],["Spacebar",v.SPACE],[" ",v.SPACE],["Tab",v.TAB],["Escape",v.ESCAPE],["Home",v.HOME],["End",v.END],["ArrowLeft",v.ARROW_LEFT],["ArrowRight",v.ARROW_RIGHT],["ArrowUp",v.ARROW_UP],["ArrowDown",v.ARROW_DOWN],["PageUp",v.PAGE_UP],["PageDown",v.PAGE_DOWN]]);function Tt(e){const t=Rt.get(e.key);return t||null}function Nt(e){const t=e.target,{tagName:n}=t,o=t.getAttribute("role"),r=t.isContentEditable!==!0&&n!=="INPUT"&&n!=="TEXTAREA"&&(o==="button"||o==="link"||o==="menuitem"),s=n==="A"&&t.hasAttribute("href"),i=Tt(e);return r&&(i===v.SPACE&&o==="button"||i===v.ENTER&&!s)}const xt=["top","right","bottom","left"],de=["start","end"],Qn=xt.reduce((e,t)=>e.concat(t,t+"-"+de[0],t+"-"+de[1]),[]),Lt=Math.min,Mt=Math.max,Zn=Math.round,eo=Math.floor,to=e=>({x:e,y:e}),It={left:"right",right:"left",bottom:"top",top:"bottom"},Dt={start:"end",end:"start"};function no(e,t,n){return Mt(e,Lt(t,n))}function oo(e,t){return typeof e=="function"?e(t):e}function Ne(e){return e.split("-")[0]}function xe(e){return e.split("-")[1]}function jt(e){return e==="x"?"y":"x"}function Ht(e){return e==="y"?"height":"width"}const Vt=new Set(["top","bottom"]);function Bt(e){return Vt.has(Ne(e))?"y":"x"}function Wt(e){return jt(Bt(e))}function ro(e,t,n){n===void 0&&(n=!1);const o=xe(e),r=Wt(e),s=Ht(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=G(i)),[i,G(i)]}function so(e){const t=G(e);return[z(e),t,z(t)]}function z(e){return e.replace(/start|end/g,t=>Dt[t])}const pe=["left","right"],me=["right","left"],Ut=["top","bottom"],$t=["bottom","top"];function Ft(e,t,n){switch(e){case"top":case"bottom":return n?t?me:pe:t?pe:me;case"left":case"right":return t?Ut:$t;default:return[]}}function io(e,t,n,o){const r=xe(e);let s=Ft(Ne(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(z)))),s}function G(e){return e.replace(/left|right|bottom|top/g,t=>It[t])}function Kt(e){return ue({top:0,right:0,bottom:0,left:0},e)}function ao(e){return typeof e!="number"?Kt(e):{top:e,right:e,bottom:e,left:e}}function Xt(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function V(){return typeof window!="undefined"}function Le(e){return Me(e)?(e.nodeName||"").toLowerCase():"#document"}function E(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yt(e){var t;return(t=(Me(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Me(e){return V()?P(e,Node)||P(e,E(e).Node):!1}function Ie(e){return V()?P(e,Element)||P(e,E(e).Element):!1}function B(e){return V()?P(e,HTMLElement)||P(e,E(e).HTMLElement):!1}function ve(e){return!V()||typeof ShadowRoot=="undefined"?!1:P(e,ShadowRoot)||P(e,E(e).ShadowRoot)}var zt=new Set(["inline","contents"]);function Gt(e){var t=Qt(e),n=t.overflow,o=t.overflowX,r=t.overflowY,s=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+r+o)&&!zt.has(s)}var qt=new Set(["html","body","#document"]);function Jt(e){return qt.has(Le(e))}function Qt(e){return E(e).getComputedStyle(e)}function uo(e){return Ie(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zt(e){if(Le(e)==="html")return e;var t=e.assignedSlot||e.parentNode||ve(e)&&e.host||Yt(e);return ve(t)?t.host:t}function De(e){var t=Zt(e);return Jt(t)?e.ownerDocument?e.ownerDocument.body:e.body:B(t)&&Gt(t)?t:De(t)}const en=()=>({window:_?window:void 0,document:_?document:void 0}),tn=f.createContext(en()),co=()=>f.useContext(tn),je=e=>e!=null&&"navigator"in e,nn=e=>e!=null&&"tagName"in e&&e.tagName==="BODY",on=e=>e!=null&&"tagName"in e&&e.tagName==="HTML",rn=["none","initial","inherit","unset"],sn=["auto","initial","inherit","unset"];function an(e){let t=e.parentNode;for(;t!==null;){if(B(t)){const{transform:n,willChange:o}=getComputedStyle(t);if(!rn.includes(n)||!sn.includes(o)){const{x:r,y:s}=t.getBoundingClientRect();return{x:r,y:s}}}t=t.parentNode}return{x:0,y:0}}const un=(e,t=!1)=>{const n=je(e)?e.document.documentElement:e,o=n.getBoundingClientRect();on(n)&&(o.height=n.clientHeight);let r=0,s=0;if(t){const{x:i,y:a}=an(n);r=i,s=a}return Xt({x:o.left-r,y:o.top-s,width:o.width,height:o.height})},lo=e=>{const t=De(e);return nn(t)?E(t):B(e)?t:null},fo=e=>je(e)?e.document.documentElement.scrollHeight:e.scrollHeight,po=e=>{const t=Ie(e)?E(e):e,n=un(e),o=t.scrollY+n.top,r=o+n.height;return{relative:n,edges:{y:[o,r]}}},mo=e=>E(e).document.body,vo=_?f.useLayoutEffect:f.useEffect,cn={android:{light:"vkui--vkBase--light",dark:"vkui--vkBase--dark"},ios:{light:"vkui--vkIOS--light",dark:"vkui--vkIOS--dark"},vkcom:{light:"vkui--vkCom--light",dark:"vkui--vkCom--dark"}},Y={};function ln(e=""){if(Y[e])return Y[e];const t={userAgent:e,system:"",systemVersion:null},{isIOS:n,iosMajor:o,iosMinor:r}=Ae(e);return n&&(t.system="ios",t.systemVersion={major:o,minor:r}),Y[e]=t,t}const ho={ANDROID:"android",IOS:"ios",VKCOM:"vkcom"};function fn(e){return e||(e=ln()),e.system==="ios"?"ios":"android"}const dn=f.createContext({hasCustomPanelHeaderAfter:!1,customPanelHeaderAfterMinWidth:90,isWebView:!1,transitionMotionEnabled:!0,platform:fn(),appearance:void 0,tokensClassNames:cn,locale:"ru"}),pn=()=>f.useContext(dn),mn={appRoot:f.createRef(),mode:"full",portalRoot:f.createRef(),embedded:!1,keyboardInput:!1,disablePortal:!1},vn=f.createContext(mn),W=e=>{var{Component:t="div",baseClassName:n,className:o,getRootRef:r}=e,s=b(e,["Component","baseClassName","className","getRootRef"]);return g.jsx(t,k({ref:r,className:w(o,n,"vkuiRootComponent",s.hidden===!0&&"vkuiRootComponent--hidden")},s))},hn={1:"vkuiTypography--weight-1",2:"vkuiTypography--weight-2",3:"vkuiTypography--weight-3"},yo=e=>{var{weight:t,useAccentWeight:n=!0,Component:o="span",normalize:r,inline:s}=e,i=b(e,["weight","useAccentWeight","Component","normalize","inline"]);return g.jsx(W,k({Component:o,baseClassName:w("vkuiTypography",r&&"vkuiTypography--normalize",s&&"vkuiTypography--inline",t&&hn[t],t&&n&&"vkuiTypography--accent")},i))},bo={SMALL_TABLET:3,TABLET:4},go={MEDIUM:3},yn={REGULAR:"regular"},bn=(...e)=>(...t)=>e.filter(n=>typeof n=="function").forEach(n=>n(...t));function ne(...e){const t=e.reduce((n,o)=>(Object.entries(o).forEach(([r,s])=>{n.hasOwnProperty(r)||(n[r]=[]),n[r].push(s)}),n),{});return Object.entries(t).reduce((n,[o,r])=>(n[o]=bn(...r),n),{})}function gn(e=!0){const[t,n]=f.useState(!1),{keyboardInput:o}=f.useContext(vn),r=f.useCallback(a=>{a.stopPropagation(),n(!0)},[n]),s=f.useCallback(a=>{a.stopPropagation(),n(!1)},[n]);return{focusVisible:e?o&&t:t,onFocus:r,onBlur:s}}const Cn={inside:"vkui-focus-visible--mode-inside",outside:"vkui-focus-visible--mode-outside"},kn=e=>e==="inside"||e==="outside";function wn({focusVisible:e=!1,mode:t="inside"}){const n=kn(t)?Cn[t]:t;return w("vkui-focus-visible",e&&"vkui-focus-visible--focused",e&&n)}function Co(e,t){t&&(typeof t=="function"?t(e):t.current=e)}const ko=e=>e.stopPropagation();function wo(e){return f.version.startsWith("19")?{fetchPriority:e}:{fetchpriority:e}}function _n(e){var t,n;!B(e.target)||!Nt(e)||(e.preventDefault(),(t=(n=e.target).click)===null||t===void 0||t.call(n))}function Pn(e,t=0,n=y){const[o,r]=f.useState(e),s=f.useRef(),i=f.useCallback(u=>{St(u)?r(c=>{const d=u(c);return n(d),d}):(r(u),n(u))},[n]),a=f.useCallback((u,c=t)=>{if(clearTimeout(s.current),c===0){i(u);return}s.current=setTimeout(()=>i(u),c)},[t,i]);return[o,a]}const En=600,Sn=70;function On({hovered:e,hasHover:t=!0,lockState:n,setParentStateLock:o}){const[r,s]=f.useState(!1),i=f.useRef(void 0),a=f.useCallback(p=>{s(p);const m=e!=null?e:q({hasState:t,isLocked:n,stateValueLocal:p});m!==i.current&&(i.current=m,o(m))},[o,t,e,n]),u=p=>{p.pointerType!=="touch"&&a(!0)},c=()=>{a(!1)};return{isHovered:e!=null?e:q({hasState:t,isLocked:n,stateValueLocal:r}),onPointerEnter:t?u:y,onPointerLeave:t?c:y}}function An({activated:e,activeEffectDelay:t,hasActive:n=!0,lockStateRef:o,setParentStateLock:r}){const[s,i]=Pn(!1,0,r),a=f.useMemo(()=>new Set,[]),u=()=>{o.current||(i(!0,Sn),r(!0))},c=m=>{if(a.has(m.pointerId)){a.delete(m.pointerId);return}i(!1)},d=m=>{a.add(m.pointerId),!o.current&&(i(!0),i(!1,t))};return{isActivated:e!=null?e:q({hasState:n,isLocked:o.current,stateValueLocal:s}),onPointerLeave:n?c:y,onPointerDown:n?u:y,onPointerCancel:n?c:y,onPointerUp:n?d:y}}const He=f.createContext({lockHoverStateBubbling:void 0,lockActiveStateBubbling:void 0});function Rn(e){const[t,n]=f.useState(!1),o=f.useCallback(r=>{n(r),e(r)},[e]);return[t,e,o]}function Tn(e){const t=f.useRef(!1),n=f.useCallback(o=>{t.current=o,e(o)},[e]);return[t,e,n]}function Nn({hovered:e,hasHover:t,activated:n,hasActive:o,activeEffectDelay:r,unlockParentHover:s,hoverClassName:i,activeClassName:a}){const{lockHoverStateBubbling:u=y,lockActiveStateBubbling:c=y}=f.useContext(He),[d,p,m]=Rn(s?y:u),[C,S,R]=Tn(c),O=On({hasHover:t,hovered:e,lockState:d,setParentStateLock:p}),{isHovered:T}=O,U=b(O,["isHovered"]),x=An({activated:n,hasActive:o,activeEffectDelay:r,lockStateRef:C,setParentStateLock:S}),{isActivated:$}=x,F=b(x,["isActivated"]),L=w(T&&i,$&&a),K=ne(U,F);return k({stateClassName:L,setLockHoverBubblingImmediate:m,setLockActiveBubblingImmediate:R},K)}function q({hasState:e,isLocked:t,stateValueLocal:n}){return e&&!t&&n}const xn=e=>{var{href:t,onClick:n,onClickCapture:o,activeClassName:r,hoverClassName:s,hasActive:i,hasHover:a,hovered:u,unlockParentHover:c,activated:d,activeEffectDelay:p}=e,m=b(e,["href","onClick","onClickCapture","activeClassName","hoverClassName","hasActive","hasHover","hovered","unlockParentHover","activated","activeEffectDelay"]);return g.jsx(W,k({},m))},Ln=e=>{var{baseClassName:t,children:n,focusVisibleMode:o="inside",activeClassName:r,hoverClassName:s,activeEffectDelay:i=En,hasHover:a=!0,hasActive:u=!0,hovered:c,activated:d,hasHoverWithChildren:p,unlockParentHover:m,onPointerEnter:C,onPointerLeave:S,onPointerDown:R,onPointerCancel:O,onPointerUp:T,onBlur:U,onFocus:x,onKeyDown:$}=e,F=b(e,["baseClassName","children","focusVisibleMode","activeClassName","hoverClassName","activeEffectDelay","hasHover","hasActive","hovered","activated","hasHoverWithChildren","unlockParentHover","onPointerEnter","onPointerLeave","onPointerDown","onPointerCancel","onPointerUp","onBlur","onFocus","onKeyDown"]);const L=gn(),{focusVisible:K}=L,Be=b(L,["focusVisible"]),We=wn({focusVisible:K,mode:o}),oe=Nn({activeClassName:r,hoverClassName:s,activeEffectDelay:i,hasHover:a,hasActive:u,hovered:c,activated:d,unlockParentHover:m}),{stateClassName:Ue,setLockHoverBubblingImmediate:re,setLockActiveBubblingImmediate:se}=oe,$e=b(oe,["stateClassName","setLockHoverBubblingImmediate","setLockActiveBubblingImmediate"]),Fe=ne(Be,$e,{onKeyDown:_n},{onPointerEnter:C,onPointerLeave:S,onPointerDown:R,onPointerCancel:O,onPointerUp:T,onBlur:U,onFocus:x,onKeyDown:$}),Ke=f.useMemo(()=>({lockHoverStateBubbling:p?y:re,lockActiveStateBubbling:se}),[re,se,p]);return g.jsx(W,J(k({baseClassName:w(t,"vkuiClickable__realClickable",We,Ue)},Fe,F),{children:g.jsx(He.Provider,{value:Ke,children:n})}))};function Ve(e){return(e.href!==void 0||e.onClick!==void 0||e.onClickCapture!==void 0||e.Component==="a"||e.Component==="button"||e.Component==="label"||e.Component==="input")&&!e.disabled}function Mn({Component:e,onClick:t,onClickCapture:n,href:o,disabled:r}){return e!==void 0?{Component:e}:o!==void 0?{Component:"a","aria-disabled":r}:t!==void 0||n!==void 0?{Component:"div",role:"button",tabIndex:r?void 0:0,"aria-disabled":r}:{}}const In=e=>{if(e==="a")return"vkuiClickable__resetLinkStyle";if(e==="button")return"vkuiClickable__resetButtonStyle"},Dn=e=>{var{focusVisibleMode:t="inside",baseClassName:n}=e,o=b(e,["focusVisibleMode","baseClassName"]);const r=Mn(o),s=Ve(o),i=w(n,In(r.Component),"vkuiClickable__host");return s?g.jsx(Ln,k({baseClassName:i,focusVisibleMode:t},r,o)):g.jsx(xn,k({baseClassName:i},r,o))};function jn(){const{platform:e}=pn();return e}function Hn(e){const t=e==null?void 0:e.getBoundingClientRect();return{top:t==null?void 0:t.top,left:t==null?void 0:t.left,width:e==null?void 0:e.offsetWidth,height:e==null?void 0:e.offsetHeight}}const Vn=(e,t)=>jn()==="android"&&!t&&e==="background",Bn=70,he=225,Wn=(e,t)=>{const[n,o]=f.useState([]),r=f.useMemo(()=>new Map,[]);f.useEffect(function(){const d=n.length>0?setTimeout(()=>o([]),he):null;return function(){d&&clearTimeout(d)}},[n]);function s(c,d,p){const m=Date.now(),C=n.filter(S=>S.id+he>m);o([...C,{x:c,y:d,id:m,pointerId:p}]),r.delete(p)}const i=c=>{const{top:d,left:p}=Hn(c.currentTarget),m=c.clientX-(p!=null?p:0),C=c.clientY-(d!=null?d:0);r.set(c.pointerId,setTimeout(()=>s(m,C,c.pointerId),Bn))},a=c=>{const d=r.get(c.pointerId);clearTimeout(d),r.delete(c.pointerId)},u=(!Et||t===!1)&&e;return{clicks:n,onPointerDown:u?i:y,onPointerCancel:u?a:y}},Un=({needRipple:e=!0,clicks:t})=>g.jsx("span",{"aria-hidden":!0,className:w("vkuiTappable__stateLayer",e&&"vkuiTappable__ripple"),children:t.map(n=>g.jsx("span",{className:"vkuiTappable__wave",style:{top:n.y,left:n.x}},n.id))}),j="background",$n={background:"vkuiTappable--hovered-background",opacity:"vkuiTappable--hovered-opacity",none:""};function Fn(e=j){const t=$n[e];return t!==void 0?t:e}const Kn={background:"vkuiTappable--activated-background",opacity:"vkuiTappable--activated-opacity",none:""};function Xn(e=j){const t=Kn[e];return t!==void 0?t:e}const Yn={none:"vkuiTappable--sizeX-none",compact:"vkuiTappable--sizeX-compact"};function zn(e){switch(e){case void 0:return"vkuiTappable--hasPointer-none";case!1:return"vkuiTappable--hasPointer-false"}}const _o=e=>{var{baseClassName:t,borderRadiusMode:n="auto",children:o,hoverMode:r=j,activeMode:s=j,onPointerDown:i,onPointerCancel:a}=e,u=b(e,["baseClassName","borderRadiusMode","children","hoverMode","activeMode","onPointerDown","onPointerCancel"]);const c=Ve(u),{sizeX:d="none",hasPointer:p}=At(),m=Vn(s,p),C=Wn(m,p),{clicks:S}=C,R=b(C,["clicks"]),O=ne(R,{onPointerDown:i,onPointerCancel:a}),T=u.Component==="button"?{type:"button"}:{};return g.jsxs(Dn,J(k({baseClassName:w(t,"vkuiTappable",d!==yn.REGULAR&&Yn[d],n==="inherit"&&"vkuiTappable--borderRadiusInherit",zn(p)),hoverClassName:Fn(r),activeClassName:Xn(s)},T,O,u),{children:[o,c&&(r==="background"||s==="background")&&g.jsx(Un,{needRipple:m,clicks:S})]}))},Po=e=>{var{Component:t="span",baseClassName:n}=e,o=b(e,["Component","baseClassName"]);return g.jsx(W,J(k({Component:t},o),{baseClassName:w(n,"vkuiVisuallyHidden",t==="input"&&"vkuiVisuallyHidden--focusable-input")}))},Eo=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};export{jn as $,Ot as A,Lt as B,dn as C,cn as D,Mt as E,z as F,ao as G,Xt as H,jt as I,Wt as J,xt as K,Ht as L,to as M,Zn as N,eo as O,ho as P,gt as Q,W as R,B as S,yo as T,mo as U,vn as V,co as W,ko as X,Jn as Y,Po as Z,Eo as _,b as a,bn as a0,y as a1,qn as a2,Tt as a3,_o as a4,E as a5,uo as a6,po as a7,fo as a8,un as a9,lo as aa,bo as ab,go as ac,_ as ad,Co as ae,J as b,w as c,k as d,Ge as e,vo as f,pn as g,Et as h,gn as i,g as j,wn as k,_n as l,Dn as m,wo as n,oo as o,Qn as p,ro as q,f as r,Ne as s,xe as t,At as u,Bt as v,G as w,so as x,io as y,no as z};
