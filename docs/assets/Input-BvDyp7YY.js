import{a2 as j,r as h,a as k,j as s,d as p,c as n,W as V,f as $,R as w,b as F,u as E,Y as y,k as B}from"./_plugin-vue_export-helper-CR7FrT2r.js";import{T as D,u as W,F as G}from"./Group-CwB5ySvJ.js";import{R as J}from"./Removable-Bc8LWK6o.js";import{S as q}from"./useGlobalEventListener-xhFFMBx8.js";function S(e,t){if(e===t)return!0;if(e==null||t==null||!j(e)&&!j(t))return e!==e&&t!==t;if(j(e)&&j(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(e.hasOwnProperty(o)&&t.hasOwnProperty(o)){if(!S(e[o],t[o]))return!1}else return!1;return!0}return!1}function K(e){const t=h.useRef(e);return S(t.current,e)||(t.current=e),t.current}const Q=e=>{var{as:t,noPadding:o=!1,className:a}=e,i=k(e,["as","noPadding","className"]);return s.jsx(D,p({Component:t,normalize:!1,className:n("vkuiUnstyledTextField",o&&"vkuiUnstyledTextField--noPadding",a)},i))},M=(e,t)=>e.contains(t.activeElement);function X(e){const{document:t}=V(),[o,a]=h.useState(()=>e.current&&t?M(e.current,t):!1);return $(function(){if(!t)return;const r=()=>{e.current&&a(M(e.current,t))};return r(),t.addEventListener("focus",r,{capture:!0}),t.addEventListener("blur",r,{capture:!0}),()=>{t.removeEventListener("focus",r,{capture:!0}),t.removeEventListener("blur",r,{capture:!0})}},[]),o}const A=e=>s.jsx(w,F(p({},e),{baseClassName:"vkuiFormItem__top"}));A.displayName="FormItemTop";const U=e=>{var{children:t}=e,o=k(e,["children"]);return s.jsx(q,F(p({className:"vkuiFormItemTop__aside"},o),{children:t}))};U.displayName="FormItemTopAside";const H=h.createContext({required:!1,topMultiline:!1}),L=e=>{var{children:t,Component:o,htmlFor:a,multiline:i}=e,r=k(e,["children","Component","htmlFor","multiline"]);const u=o||a&&"label"||"span",{required:l,topMultiline:m}=h.useContext(H);return s.jsxs(q,F(p({className:n("vkuiFormItemTop__label",(i!=null?i:m)&&"vkuiFormItemTop__label--multiline"),Component:u,htmlFor:a},r),{children:[t,l&&s.jsx("span",{className:"vkuiFormItemTop__label--required","aria-hidden":!0,children:"*"})]}))};L.displayName="FormItemTopLabel";const Z={none:n("vkuiFormItem--sizeY-none","vkuiInternalFormItem--sizeY-none"),compact:n("vkuiFormItem--sizeY-compact","vkuiInternalFormItem--sizeY-compact")},ee={error:n("vkuiFormItem--status-error","vkuiInternalFormItem--status-error"),valid:n("vkuiFormItem--status-valid","vkuiInternalFormItem--status-valid")},f=e=>{var{children:t,top:o,topId:a,topMultiline:i,topComponent:r,bottom:u,status:l="default",removable:m,onRemove:d,removePlaceholder:b="Удалить",getRootRef:I,htmlFor:v,bottomId:x,noPadding:T,topNode:g,required:N=!1}=e,C=k(e,["children","top","topId","topMultiline","topComponent","bottom","status","removable","onRemove","removePlaceholder","getRootRef","htmlFor","bottomId","noPadding","topNode","required"]);const c=W(I),{sizeY:_="none"}=E(),R=s.jsxs(h.Fragment,{children:[y(g)?g:y(o)?s.jsx(A,{children:s.jsx(L,{htmlFor:v,Component:r,multiline:i,id:a,children:o})}):null,t,y(u)&&s.jsx(G,{className:"vkuiFormItem__bottom",id:x,role:l==="error"?"alert":void 0,children:u})]}),P=K({required:N,topMultiline:i});return s.jsx(w,F(p({},C),{getRootRef:c,baseClassName:n("vkuiFormItem",!T&&"vkuiFormItem--withPadding","vkuiInternalFormItem",l!=="default"&&ee[l],_!=="regular"&&Z[_],y(o)&&n("vkuiFormItem--withTop","vkuiInternalFormItem--withTop"),m&&n("vkuiFormItem--removable","vkuiInternalFormItem--removable")),children:s.jsx(H.Provider,{value:P,children:m?s.jsx(J,{align:"start",onRemove:z=>{c!=null&&c.current&&(d==null||d(z,c.current))},removePlaceholder:b,indent:m==="indent",children:s.jsx("div",{className:n("vkuiFormItem__removable","vkuiInternalFormItem__removable"),children:R})}):R})}))};f.displayName="FormItem";f.Top=A;f.Top.displayName="FormItem.Top";f.TopLabel=L;f.TopLabel.displayName="FormItem.TopLabel";f.TopAside=U;f.TopAside.displayName="FormItem.TopAside";const te={none:"vkuiFormField--sizeY-none",compact:"vkuiFormField--sizeY-compact"},oe={error:"vkuiFormField--status-error",valid:"vkuiFormField--status-valid"},se={center:void 0,start:"vkuiFormField__icon--align-start",end:"vkuiFormField__icon--align-end"},O=(e,t,o)=>s.jsx("div",{className:"vkuiFormField__iconWrapper",children:s.jsx("span",{className:n(se[t],o),children:e})}),re=e=>{var{Component:t="span",status:o="default",children:a,getRootRef:i,before:r,after:u,beforeAlign:l="center",afterAlign:m="center",disabled:d,mode:b="default",className:I,maxHeight:v,style:x}=e,T=k(e,["Component","status","children","getRootRef","before","after","beforeAlign","afterAlign","disabled","mode","className","maxHeight","style"]);const g=W(i),{sizeY:N="none"}=E(),[C,c]=h.useState(!1),_=X(g),R=B({focusVisible:_,mode:"vkuiFormField--focus-visible"}),P=Y=>{Y.stopPropagation(),c(!0)},z=Y=>{Y.stopPropagation(),c(!1)};return s.jsxs(t,F(p({},T),{ref:g,style:v!==void 0?F(p({},x),{maxHeight:v}):x,onMouseEnter:P,onMouseLeave:z,className:n("vkuiFormField",b==="default"&&"vkuiFormField--mode-default",o!=="default"&&oe[o],N!=="regular"&&te[N],d&&"vkuiFormField--disabled",!d&&C&&"vkuiFormField--hover",R,I),children:[s.jsxs("div",{className:"vkuiFormField_scrollContainer",children:[r&&O(r,l,"vkuiFormField__before"),s.jsx("div",{className:"vkuiFormField__content",children:a}),u&&O(u,m,n("vkuiFormField__after","vkuiInternalFormField__after"))]}),s.jsx("span",{"aria-hidden":!0,className:"vkuiFormField__border"})]}))},ne={none:"vkuiInput--sizeY-none",compact:"vkuiInput--sizeY-compact"},ue=e=>{var{type:t="text",align:o="left",getRef:a,className:i,getRootRef:r,style:u,before:l,after:m,status:d,mode:b}=e,I=k(e,["type","align","getRef","className","getRootRef","style","before","after","status","mode"]);const{sizeY:v="none"}=E();return s.jsx(re,{style:u,className:n("vkuiInput",o==="right"&&"vkuiInput--align-right",o==="center"&&"vkuiInput--align-center",v!=="regular"&&ne[v],l&&"vkuiInput--hasBefore",m&&"vkuiInput--hasAfter",i),getRootRef:r,before:l,after:m,disabled:I.disabled,mode:b,status:d,children:s.jsx(Q,F(p({},I),{as:"input",type:t,className:"vkuiInput__el",getRootRef:a}))})};export{f as F,ue as I,Q as U,K as a,re as b,X as u};
