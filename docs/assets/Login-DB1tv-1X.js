var _=(f,d,s)=>new Promise((r,t)=>{var u=o=>{try{n(s.next(o))}catch(e){t(e)}},m=o=>{try{n(s.throw(o))}catch(e){t(e)}},n=o=>o.done?r(o.value):Promise.resolve(o.value).then(u,m);n((s=s.apply(f,d)).next())});import{j as h,r as c,c as w,o as x,b as a,w as i,u as l,d as k,e as v}from"./index-BM9-ZzJv.js";import{B as g}from"./Button-qiQ7ZsJW.js";import{G as B}from"./Group-CwB5ySvJ.js";import{F as V,I as y}from"./Input-BvDyp7YY.js";import{_ as I}from"./_plugin-vue_export-helper-CR7FrT2r.js";import"./Removable-Bc8LWK6o.js";import"./useGlobalEventListener-xhFFMBx8.js";import"./IconButton-CJDG5Ox1.js";const L={class:"login"},C={__name:"Login",setup(f){const d=k(),s=h(),r=c(""),t=c(""),u=c(!1),m=()=>_(this,null,function*(){if(!(!r.value||!t.value)){u.value=!0;try{(yield s.login({email:r.value,password:t.value})).success&&d.push("/profile")}catch(o){console.error("Ошибка входа:",o)}finally{u.value=!1}}}),n=()=>{d.push("/register")};return(o,e)=>(x(),w("div",L,[a(l(B),{header:"Вход в систему"},{default:i(()=>[a(l(V),{top:"Email"},{default:i(()=>[a(l(y),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p),type:"email",placeholder:"Введите email"},null,8,["modelValue"])]),_:1}),a(l(V),{top:"Пароль"},{default:i(()=>[a(l(y),{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=p=>t.value=p),type:"password",placeholder:"Введите пароль"},null,8,["modelValue"])]),_:1}),a(l(g),{size:"l",mode:"primary",stretched:"",onClick:m,loading:u.value},{default:i(()=>e[2]||(e[2]=[v(" Войти ",-1)])),_:1,__:[2]},8,["loading"]),a(l(g),{size:"m",mode:"secondary",stretched:"",onClick:n},{default:i(()=>e[3]||(e[3]=[v(" Зарегистрироваться ",-1)])),_:1,__:[3]})]),_:1})]))}},U=I(C,[["__scopeId","data-v-68639dba"]]);export{U as default};
