var _=(c,d,s)=>new Promise((r,t)=>{var u=o=>{try{n(s.next(o))}catch(e){t(e)}},m=o=>{try{n(s.throw(o))}catch(e){t(e)}},n=o=>o.done?r(o.value):Promise.resolve(o.value).then(u,m);n((s=s.apply(c,d)).next())});import{k as y,r as f,c as k,o as w,f as a,g as i,h as l,u as x,i as v}from"./index-BgJUy9vf.js";import{B as g}from"./Button-MhB0ftXQ.js";import{G as B}from"./Group-DEGhva3t.js";import{F as V,I as h}from"./Input-DVIg_Wt7.js";import{_ as I}from"./Typography-Byh9fUcv.js";import"./VisuallyHidden-8Hixhu_K.js";import"./useExternRef-BpbbNXQC.js";import"./Removable-BevrVg9y.js";const L={class:"login"},C={__name:"Login",setup(c){const d=x(),s=y(),r=f(""),t=f(""),u=f(!1),m=()=>_(this,null,function*(){if(!(!r.value||!t.value)){u.value=!0;try{(yield s.login({email:r.value,password:t.value})).success&&d.push("/profile")}catch(o){console.error("Ошибка входа:",o)}finally{u.value=!1}}}),n=()=>{d.push("/register")};return(o,e)=>(w(),k("div",L,[a(l(B),{header:"Вход в систему"},{default:i(()=>[a(l(V),{top:"Email"},{default:i(()=>[a(l(h),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p),type:"email",placeholder:"Введите email"},null,8,["modelValue"])]),_:1}),a(l(V),{top:"Пароль"},{default:i(()=>[a(l(h),{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=p=>t.value=p),type:"password",placeholder:"Введите пароль"},null,8,["modelValue"])]),_:1}),a(l(g),{size:"l",mode:"primary",stretched:"",onClick:m,loading:u.value},{default:i(()=>e[2]||(e[2]=[v(" Войти ",-1)])),_:1,__:[2]},8,["loading"]),a(l(g),{size:"m",mode:"secondary",stretched:"",onClick:n},{default:i(()=>e[3]||(e[3]=[v(" Зарегистрироваться ",-1)])),_:1,__:[3]})]),_:1})]))}},b=I(C,[["__scopeId","data-v-68639dba"]]);export{b as default};
