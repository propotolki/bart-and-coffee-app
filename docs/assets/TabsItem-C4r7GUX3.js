import{r as f,a as F,$ as P,W as H,j as s,R as Y,b as V,c as x,d as D,a3 as z,u as K,Y as L,Z as A,a4 as q}from"./_plugin-vue_export-helper-CR7FrT2r.js";import{u as W}from"./Group-CwB5ySvJ.js";import{a as Z,S as $}from"./useGlobalEventListener-xhFFMBx8.js";import{H as J}from"./Headline-Dt9Khb9w.js";function Q(r){const n=f.useRef();return f.useEffect(()=>{n.current=r}),n.current}const G=f.createContext({mode:"default",withGaps:!1,layoutFillMode:"auto",withScrollToSelectedTab:!1,scrollBehaviorToSelectedTab:"nearest"}),ie=r=>{var{children:n,mode:u="default",role:l="tablist",withScrollToSelectedTab:p,scrollBehaviorToSelectedTab:a="nearest",layoutFillMode:w="auto"}=r,k=F(r,["children","mode","role","withScrollToSelectedTab","scrollBehaviorToSelectedTab","layoutFillMode"]);const E=P(),{document:o}=H(),y=l==="tablist",b=f.useRef(null),I=u==="accent"||u==="secondary",v=()=>b.current?Array.from(b.current.querySelectorAll("[role=tab]:not([disabled])")):[];return Z(o,"keydown",h=>{if(!o||!b.current||!y)return;const m=z(h);switch(m){case"ArrowLeft":case"ArrowRight":case"End":case"Home":{const c=v(),t=c.findIndex(d=>o.activeElement===d);if(t===-1)return;let e=0;m==="Home"?e=0:m==="End"?e=c.length-1:e=t+(m==="ArrowRight"?1:-1);const i=c[e];i&&(h.preventDefault(),i.focus());break}case"ArrowDown":{const t=v().find(d=>o.activeElement===d);if(!t||t.getAttribute("aria-selected")!=="true")return;const e=t.getAttribute("aria-controls");if(!e)return;const i=o.getElementById(e);if(!i)return;h.preventDefault(),i.focus();break}case"Space":case"Enter":{const t=v().find(e=>o.activeElement===e);t&&t.click()}}},{capture:!0}),s.jsx(Y,V(D({},k),{baseClassName:x("vkuiTabs","vkuiInternalTabs",E==="vkcom"&&"vkuiInternalTabs--vkcom",I&&x("vkuiTabs--withGaps","vkuiInternalTabs--withGaps"),u==="default"&&"vkuiTabs--mode-default"),role:l,children:s.jsx("div",{className:"vkuiTabs__in",ref:b,children:s.jsx(G.Provider,{value:{mode:u,withGaps:I,layoutFillMode:w,withScrollToSelectedTab:p,scrollBehaviorToSelectedTab:a},children:n})})}))},U={none:"vkuiTabsItem--sizeY-none",compact:"vkuiTabsItem--sizeY-compact"},X={default:"vkuiTabsItem--mode-default",accent:"vkuiTabsItem--mode-accent",secondary:"vkuiTabsItem--mode-secondary"},ee={stretched:"vkuiTabsItem--stretched",shrinked:"vkuiTabsItem--shrinked"},de=r=>{var{before:n,children:u,status:l,after:p,selected:a=!1,className:w,role:k="tab",tabIndex:E,getRootRef:o,hoverMode:y="vkuiTabsItem--hover",activeMode:b="",hovered:I,activated:v,hasHover:S,hasActive:h=!1,focusVisibleMode:m="inside"}=r,c=F(r,["before","children","status","after","selected","className","role","tabIndex","getRootRef","hoverMode","activeMode","hovered","activated","hasHover","hasActive","focusVisibleMode"]);const{sizeY:t="none"}=K(),{mode:e,withGaps:i,layoutFillMode:d,scrollBehaviorToSelectedTab:j,withScrollToSelectedTab:B}=f.useContext(G);let g=null;const O=k==="tab";L(l)&&(g=typeof l=="number"?s.jsxs($,{Component:"span",className:x("vkuiTabsItem__status","vkuiTabsItem__status--count"),weight:"2",children:[s.jsx(A,{children:" "}),l]}):s.jsxs("span",{className:"vkuiTabsItem__status",children:[s.jsx(A,{children:" "}),l]}));let _=E;O&&_===void 0&&(_=a?0:-1);const T=W(o),M=Q(a),N=B&&!(M===void 0)&&M!==a&&a,{document:R}=H();return f.useEffect(function(){if(!N||!T.current||!R)return;const C=T.current.getBoundingClientRect();if(!(C.top<0||C.bottom>R.documentElement.clientHeight))try{T.current.scrollIntoView({inline:j,block:"nearest",behavior:"smooth"})}catch(oe){}},[T,R,N,j]),s.jsxs(q,V(D({},c),{getRootRef:T,className:x("vkuiTabsItem",e&&X[e],a&&"vkuiTabsItem--selected",t!=="regular"&&U[t],i&&"vkuiTabsItem--withGaps",d!=="auto"&&ee[d],w),hoverMode:y,activeMode:b,hasHover:S,hasActive:h,hovered:I,activated:v,focusVisibleMode:m,role:k,"aria-selected":a,tabIndex:_,children:[n&&s.jsx("div",{className:"vkuiTabsItem__before",children:n}),s.jsx(J,{Component:"span",className:"vkuiTabsItem__label",level:e==="default"?"1":"2",weight:"2",children:u}),g,p&&s.jsx("div",{className:"vkuiTabsItem__after",children:p}),e==="default"&&s.jsx("div",{className:"vkuiTabsItem__underline","aria-hidden":!0,"data-selected":a})]}))};export{ie as T,de as a,Q as u};
