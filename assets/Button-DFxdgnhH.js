import{O as v,aA as R,z as p,E as j,aX as N,aY as z,_ as g,l as n,R as E,m as y,aF as m,n as b,aH as L,q as _,x as Y,aJ as O,aW as T}from"./index-cPrSCceq.js";var V=v("Icon16Spinner","spinner_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="spinner_16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.149 7.065.75.75 0 1 1-1.31.732A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 .001-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd" /></symbol>',16,16),$=v("Icon24Spinner","spinner_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="spinner_24"><path fill="currentColor" fill-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123" clip-rule="evenodd" /></symbol>',24,24),D=v("Icon32Spinner","spinner_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="spinner_32"><path fill="currentColor" d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 16 16 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16" /></symbol>',32,32),F=v("Icon44Spinner","spinner_44","0 0 44 44",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" id="spinner_44"><path fill="currentColor" d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A22 22 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22" /></symbol>',44,44);const k="screen and (prefers-reduced-motion: reduce)",G=()=>{const{window:e}=R(),r=p.useMemo(()=>e?e.matchMedia(k).matches:!1,[e]),t=p.useRef(r);return j(()=>{if(!e)return;const o=e.matchMedia(k);t.current=o.matches;const i=u=>{t.current=u.matches};return N(o,i),()=>z(o,i)},[e]),t.current},S=p.memo(e=>{var{size:r="regular",children:t="Загружается...",disableAnimation:o=!1,noColor:i=!1}=e,u=g(e,["size","children","disableAnimation","noColor"]);const c=G(),l={small:V,regular:$,medium:D,large:F}[r];let a=null;const[f,d]=p.useState(!!o);if(p.useEffect(function(){d(!0)},[]),f&&!o)if(c)a=n.jsx("animate",{attributeName:"opacity",keyTimes:"0; 0.5; 1",values:"1; 0.1; 1",begin:"0s",dur:"2s",repeatCount:"indefinite"});else{const s={small:8,regular:12,medium:16,large:22}[r];a=n.jsx("animateTransform",{attributeType:"XML",attributeName:"transform",type:"rotate",from:`0 ${s} ${s}`,to:`360 ${s} ${s}`,dur:"0.7s",repeatCount:"indefinite"})}return n.jsxs(E,y(_({Component:"span",role:"status"},u),{baseClassName:b("vkuiSpinner",i&&"vkuiSpinner--no-color"),children:[n.jsx(l,{children:a}),m(t)&&n.jsx(L,{children:t})]}))});S.displayName="Spinner";const H={s:"vkuiButton--size-s",m:"vkuiButton--size-m",l:"vkuiButton--size-l"},P={primary:"vkuiButton--mode-primary",secondary:"vkuiButton--mode-secondary",tertiary:"vkuiButton--mode-tertiary",outline:"vkuiButton--mode-outline",link:"vkuiButton--mode-link"},Q={accent:"vkuiButton--appearance-accent",positive:"vkuiButton--appearance-positive",negative:"vkuiButton--appearance-negative",neutral:"vkuiButton--appearance-neutral",overlay:"vkuiButton--appearance-overlay","accent-invariable":"vkuiButton--appearance-accent-invariable"},U={left:"vkuiButton--align-left",center:"vkuiButton--align-center",right:"vkuiButton--align-right"},X={none:"vkuiButton--sizeY-none",regular:"vkuiButton--sizeY-regular"},J=e=>{var{size:r="s",mode:t="primary",appearance:o="accent",stretched:i=!1,align:u="center",children:c,before:l,after:a,getRootRef:f,loading:d,onClick:s,className:w,disableSpinnerAnimation:x,rounded:M}=e,h=g(e,["size","mode","appearance","stretched","align","children","before","after","getRootRef","loading","onClick","className","disableSpinnerAnimation","rounded"]);const A=!!(l||a),C=!c&&!!a!=!!l,{sizeY:B="none"}=Y(),I=O();return n.jsxs(T,y(_({hoverMode:"vkuiButton--hover",activeMode:"vkuiButton--active",Component:h.href?"a":"button",focusVisibleMode:"outside"},h),{onClick:d?void 0:s,className:b(w,"vkuiButton",H[r],P[t],Q[o],U[u],B!=="compact"&&X[B],I==="ios"&&"vkuiButton--ios",i&&"vkuiButton--stretched",A&&"vkuiButton--with-icon",C&&!i&&"vkuiButton--singleIcon",d&&"vkuiButton--loading",M&&"vkuiButton--rounded"),getRootRef:f,children:[d&&n.jsx(S,{size:"small",className:"vkuiButton__spinner",disableAnimation:x}),n.jsxs("span",{className:"vkuiButton__in",children:[m(l)&&n.jsx("span",{className:"vkuiButton__before",role:"presentation","data-testid":void 0,children:l}),m(c)&&n.jsx("span",{className:"vkuiButton__content","data-testid":void 0,children:c}),m(a)&&n.jsx("span",{className:"vkuiButton__after",role:"presentation","data-testid":void 0,children:a})]})]}))};export{J as B,S};
