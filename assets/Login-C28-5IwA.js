var _=(f,i,s)=>new Promise((r,a)=>{var u=o=>{try{n(s.next(o))}catch(e){a(e)}},m=o=>{try{n(s.throw(o))}catch(e){a(e)}},n=o=>o.done?r(o.value):Promise.resolve(o.value).then(u,m);n((s=s.apply(f,i)).next())});import{j as h,r as c,c as w,b as t,w as d,e as l,G as x,u as k,o as B,d as v}from"./index-Bao5TLqz.js";import{B as g}from"./Button-BqemOLKD.js";import{F as V,I as y}from"./Input-CLYTXULc.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"login"},C={__name:"Login",setup(f){const i=k(),s=h(),r=c(""),a=c(""),u=c(!1),m=()=>_(this,null,function*(){if(!(!r.value||!a.value)){u.value=!0;try{(yield s.login({email:r.value,password:a.value})).success&&i.push("/profile")}catch(o){console.error("Ошибка входа:",o)}finally{u.value=!1}}}),n=()=>{i.push("/register")};return(o,e)=>(B(),w("div",L,[t(l(x),{header:"Вход в систему"},{default:d(()=>[t(l(V),{top:"Email"},{default:d(()=>[t(l(y),{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p),type:"email",placeholder:"Введите email"},null,8,["modelValue"])]),_:1}),t(l(V),{top:"Пароль"},{default:d(()=>[t(l(y),{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=p=>a.value=p),type:"password",placeholder:"Введите пароль"},null,8,["modelValue"])]),_:1}),t(l(g),{size:"l",mode:"primary",stretched:"",onClick:m,loading:u.value},{default:d(()=>e[2]||(e[2]=[v(" Войти ",-1)])),_:1,__:[2]},8,["loading"]),t(l(g),{size:"m",mode:"secondary",stretched:"",onClick:n},{default:d(()=>e[3]||(e[3]=[v(" Зарегистрироваться ",-1)])),_:1,__:[3]})]),_:1})]))}},N=I(C,[["__scopeId","data-v-68639dba"]]);export{N as default};
